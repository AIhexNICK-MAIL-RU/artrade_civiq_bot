# Telegram бот для опросника CIVIQ

Telegram бот для проведения опросника по оценке качества жизни пациентов с хронической венозной недостаточностью (CIVIQ - Chronic Venous Insufficiency Questionnaire).

## Описание

Бот проводит опросник из 20 вопросов, позволяя пользователям оценить влияние проблем с ногами на их повседневную жизнь. Каждый вопрос имеет 5 вариантов ответа (шкала от 1 до 5).

## Установка

1. Клонируйте репозиторий или скачайте файлы проекта

2. Установите зависимости:
```bash
pip3 install -r requirements.txt
```

3. Создайте бота в Telegram:
   - Откройте Telegram и найдите бота [@BotFather](https://t.me/BotFather)
   - Отправьте команду `/newbot`
   - Следуйте инструкциям для создания бота
   - Сохраните полученный токен

4. Настройте переменные окружения:
   - Скопируйте файл `.env.example` в `.env`
   - Замените `your_bot_token_here` на токен вашего бота

Или установите переменную окружения напрямую:
```bash
export TELEGRAM_BOT_TOKEN="your_bot_token_here"
```

## Запуск

```bash
python3 bot.py
```

## Использование

После запуска бота в Telegram:

- `/start` - приветственное сообщение и инструкции
- `/start_questionnaire` - начать опросник
- `/results` - просмотреть результаты (после завершения опросника)
- `/reset` - сбросить результаты и начать заново
- `/cancel` - отменить текущий опросник

## Структура проекта

- `bot.py` - основной файл бота с логикой обработки команд и вопросов
- `questions.py` - файл с вопросами опросника CIVIQ
- `requirements.txt` - зависимости проекта
- `README.md` - документация
- `.env.example` - пример файла с переменными окружения

## Результаты

Результаты опросника сохраняются в JSON файлы формата `results_{user_id}.json` в корне проекта. Каждый файл содержит:
- Ответы пользователя на все вопросы
- Время начала и завершения опросника
- Подсчитанные результаты (общий балл, процент)

## Особенности

- Интерактивные кнопки для выбора ответов
- Пошаговое прохождение опросника
- Автоматическое сохранение результатов
- Возможность просмотра результатов в любой момент
- Возможность сброса и повторного прохождения

## Требования

- Python 3.7+
- python-telegram-bot 20.7+

## Лицензия

Проект создан для образовательных целей.

